<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/register.css">
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <title>Course Creation</title>
</head>
<body>
<lottie-player src="https://assets1.lottiefiles.com/packages/lf20_quq5srie.json"  background="transparent"  speed="1"  style="width: 300px; height: 300px;"  loop  autoplay></lottie-player>
<main class="container w-50">
    <form id="course-form" >
        <div class="pt-4"><h3>Create Course</h3></div>

        <hr>

        <div class="form-floating courseName mt-3 mb-3">
            <input class="form-control rounded-pill" type="text" placeholder=" " id="courseName" name="courseName" required/>
            <label for="courseName">Course Name</label>
        </div>


        <div class="form-floating rosterSize ml-5">
            <input class="form-control rounded-pill" type="text" id="rosterSize" name="rosterSize" placeholder=" " required/>
            <label for="rosterSize">Roster Size</label>

        </div>

        <div class="form-floating addProfessor mt-3">

            <input placeholder=" " class="form-control rounded-pill" type="text" id="addProfessor" name="addProfessor"/>
            <label for="addProfessor">Add Professor</label>
        </div>

        <div class="form-floating endDate rounded-pill">
            <input aria-describedby="passwordHelpInline" class="form-control mt-3 rounded-pill" type="date" placeholder=" "
                   id="endDate" name="endDate" required/>
            <label for="endDate">Course End Date</label>
        </div>

        <div>
            <input class="form-control mt-3 formFileMultiple" type="file" id="formFileMultiple" multiple>
            <label for="formFileMultiple" class="form-label"></label>
        </div>

        <hr>
        <div>
            <input type="submit" class="submit btn btn-primary rounded-pill mb-3">
        </div>
    </form>
</main>
<div class="container">
    <footer class="py-3 my-4">
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
            <li class="nav-item"><a href="#" class="nav-link text-black px-2">Home</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-black px-2">Contact us</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-black px-2">FAQs</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-black px-2">About</a></li>
        </ul>
        <p class="text-center">&copy; 2021 ChalkBoard, Inc</p>
    </footer>
</div>

<script>

    const course = document.getElementById('course-form');
    course.addEventListener('submit', function (event){
        event.preventDefault();

        createCourse(event);
    })

    async function createCourse(event){

        const courseName1 = document.getElementById('courseName').value;
        const rosterSize1 = document.getElementById('rosterSize').value;
        const addProfessor1 = document.getElementById('addProfessor').value;
        const endDate1 = document.getElementById('endDate').value;


        console.log(courseName1)
        console.log(rosterSize1)
        console.log(addProfessor1)
        console.log(endDate1)

        const result = await fetch('/courseCreation', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                courseName1,
                rosterSize1,
                addProfessor1,
                endDate1,
            })
        }).then((res) => res.json()).catch(err => console.error('caught error: ', err))
        console.log(result)
        window.location.href = result.url;
    }



</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

</body>
</html>
